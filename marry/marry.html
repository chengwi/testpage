<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"  content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1.user-scalable=no">
    <title>Marry Me</title>
</head>
<style>
    *{
        margin: 0;
        padding:0;
        border:none;
        font-size:1.5625vw;

    }
    html,body{
        width:100%;
        height:100%;
        overflow: hidden;
    }
    .page{
        width:100%;
        height:100%;
        overflow:hidden;
        position: relative;
        transition: all 1s linear;
    }
    .page4,.page2,.page3{
        position: relative;
        transition: all 1s linear;
        background: #ffffff;
    }
    .page3{

        position: absolute;
        top:0;
        left:0;
        transform: translateX(100%);
        display:none;
    }
    .page2{

        transform: translateY(100%);
    }
   .music{
       position: fixed;
       top:3vh;
       right:4vw;
       width:15vw;
       height: 15vw;
       border:4px solid #ef1639;
       border-radius: 50%;
       z-index: 10;
   }

    .music>img:last-of-type{
        position: absolute;
        top:24%;
        right:2.5%;
        width:28.421%;
    }
    .music>img:first-of-type{
        position: absolute;
        top: 0;
        left:0;
        right:0;
        bottom: 0;
        margin:auto;
        width:79%;
    }
    .zhuan{
        animation: zhuan 4s infinite linear;
        -webkit-animation: zhuan 4s infinite linear;
    }
    @keyframes zhuan {
         0%{
             transform:rotate(0deg) ;

         }
         100%{
             transform:rotate(360deg) ;
         }
     }
    @-webkit-keyframes zhuan {
        0%{
            -webkit-transform:rotate(0deg) ;

        }
        100%{
            -webkit-transform:rotate(360deg) ;
        }
    }
    .page1{
        background-color: #5FC3E4;
        background-image: linear-gradient(120deg, #E55D87, #5FC3E4);
    }

  .piao{
      position:absolute ;
      bottom: 0;
      width:100%;
      box-sizing: border-box;
      padding: 4vw;
      font-size: 5vw;
      color: #ffffff;
  }
  .piaoa{
      position: absolute;
      box-sizing:border-box;
      width:100%;
      bottom: -30px;;
      box-sizing: border-box;
      font-size: 5vw;
      color: #ffffff;
      transition: all 8s linear;
  }
    .donghua{
        animation: my 30s forwards linear;
    }
    @keyframes my {
        0%{
           transform: translateY(0);
        }
        100%{
            transform: translateY(-1500px);
        }
    }
.item{
    display: inline-block;
    padding: 2vw;
    font-size: 5vw;
    border-radius: 1vw;
    background: palevioletred;
    color: #ffffff;
}
    .scale{
        animation: scal 2s infinite ease-out;
    }
    @keyframes scal {
       0%{
           transform: scale(1);
       }
        50%{
            transform: scale(1.2);
        }
        100%{
            transform: scale(1);
        }
    }
    ul{
        position: absolute;
        top:0;
        left:0;
        bottom: 0;
        list-style: none;
        overflow-y:auto ;
        overflow-x:hidden;
    }
    .imglist li{
        padding:1.5vw;
        width:90%;
        margin: 5vw auto 0;
        box-sizing: border-box;
        box-shadow: 0 0 10px #dddddd;

    }
    .imglist li img,.imglist li video{
        width:100%;
    }
    .align{
        color: #323232;
        text-shadow: 0 0 5px #0fcda5;
        font-size: 4vw;
        line-height: 8vw;
    }
    #ring{
        visibility: hidden;
        transition: all 2s ease-in;
        transform: translateX(100%);
    }
    .page3 h2{
        margin-top: 10vh;
        font-size: 6vw;
        font-weight: bold;
        text-align: center;
    }
    .page3 p{
        margin: 5vh 0 0 0;
        text-indent: 6vw;

    }
    .page3  .kuai{
        display: inline-block;
        border-radius: 6vw;
        padding: 5vw 10vw;
        text-align: center;
        background: #0fcda5;
        color: #ffffff;
        font-size: 5vw;
    }
</style>
<body>
  <div class="music">
      <img src="image/music_disc.png" alt="" class="zhuan">
      <img src="image/music_pointer.png" alt="">
  </div>
  <div class="page page1" id="pageone">
  </div>
  <div class="page page2" id="pagetwo">
  

  </div>
  <div class="page page3" id="pagethree">
     <h2>老婆嫁给我吧！！！</h2>
      <p> <span class="kuai" onclick="doit()">Yes ！I Do</span></p>
      <p> <span class="kuai" onclick="doit()">我愿意</span></p>
      <p> <span class="kuai" onclick="doit()">好的呀</span></p>
  </div>
  <div class="page page4" id="pagefour"></div>
  <audio src="./Beautiful.mp3" id="aotoplay"
  type="audio/mpeg"></audio>
</body>
<script>
    var textList=["2015-2-24 (正月初六)","电话响起！！！","你在哪里啊？","在西亚门口，开车的，白色车就是"
    ,"啊 ！  美女！！！","我擦，你这男的真丑","请你吃饭啊","好的","吃这个","我不吃，我看着你吃","。。。。","后来继续联系......"
    ];
    var pagetwo =  document.getElementById("pagetwo");
    var pagethree =  document.getElementById("pagethree");
    var aotoplay =  document.getElementById("aotoplay");
    var boxContent=document.getElementById("pageone");
    var i =0;
    var h=window.innerHeight|| document.documentElement.clientHeight|| document.body.clientHeight;
console.log(h)

    document.addEventListener('touchstart',function () {
        aotoplay.play();
    })
    var timer =  setInterval(function(){
         if(i>=textList.length){
             clearInterval(timer);
             return;
         }

       var list = document.createElement("p");

       if(i===0){
           list.style.textAlign="center";
       }else if(i%2==0){
           list.style.textAlign="left";
       }else{
           list.style.textAlign="right";
       }

       boxContent.appendChild(list);
        if(i===textList.length-1){
            list.setAttribute('class','piaoa');
            var timertwo = setTimeout(function(){

                var span=document.createElement("span");
                span.setAttribute('class','item');
                span.innerHTML=textList[textList.length-1];
                list.appendChild(span);

                list.style.textAlign="center";
                list.style.webkitTransform="translateY("+-h/2+"px)";
                list.style.transform="translateY("+-h/2+"px)";
                list.addEventListener("transitionend",function(){
                    span.setAttribute('class','item scale');
                   

                })
                clearTimeout(timertwo);
            },100)

        }else{
            list.innerHTML=textList[i];
            list.setAttribute('class','piao donghua');
           var timerone = setTimeout(function(){
                remove(list)
                clearTimeout(timerone);
            },30000);
        }


       i++;
   },2000);
   
function remove(ele){
        var _parentEle = ele.parentNode;
        if(_parentEle){
            _parentEle.removeChild(ele);
        }
}
function doit(){

    alert("中大奖啦！么么哒")
}
</script>
</html>
